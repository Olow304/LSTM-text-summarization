Dutch plan to ban foreigners from coffee shops where marijuana is sold.
Government says measure is needed to reign in substance abuse.
Plan will take hold across the country in 2012.
Amsterdam vows to fight the measure.
