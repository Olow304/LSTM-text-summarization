NEW: John Perry, 48, had been a U.S. marshal for almost 10 years.
The alleged shooter, identified as Carlos Boles, was also killed.
Police say he opened fire as they were trying to serve an arrest warrant.
A second U.S. marshal and a police officer were injured.
